<!DOCTYPE html>
<html >
<head>
<meta charset="utf-8" />
<title>分页</title>
	<link rel="stylesheet" href="css/Mypage.css">

</head>
<body>
<table width="80%" border="1" align="center">
	<tr>
		<th>编号</th>
		<th>房子编号</th>
		<th>层数</th>
		<th>座向</th>
		<th>区域</th>
		<th>出售日期</th>
		<th>图片</th>
		<th>状态</th>
	</tr>
	<tbody id="tbody"></tbody>
</table>

<div class="showPage"></div>
<script src="js/jquery-1.12.3.min.js"></script>
<script src="js/jquery.page.1.11.js"></script>
<script>
	var list=function () {
        $.post("http://localhost:8080/floor/getAllFloorCount",{},function (count) {
			console.log(count)
			//分页
            $(".showPage").createPage({
                pageCount:count,//总页数
                limit:2,
                currentTarget :1,//当前页
                collback:function(data){
                    var intList = [];
                    intList.push(data.pageCount);
                    intList.push(data.limit);
                    $.ajax({
                        url: "http://localhost:8080/floor/queryAllFloorByPage",
                        type: "post",
                        contentType: "application/json;charset=utf-8",
                        data:JSON.stringify(intList),
                        success:function (data) {
                            console.log(data);
                            $("#tbody tr").remove();
                            $.each(data,function (index,obj) {
                                var tr = $("<tr/>");
                                $("<td/>").append(cheDel).appendTo(tr);
                                $("<td/>").html(obj.fid).appendTo(tr);
                                $("<td/>").html(obj.hid).appendTo(tr);
                                $("<td/>").html(obj.layer).appendTo(tr);
                                $("<td/>").html(obj.direction).appendTo(tr);
                                $("<td/>").html(obj.resources).appendTo(tr);
                                $("<td/>").html(obj.builddate).appendTo(tr);
                                $("<td/>").html(obj.pic).appendTo(tr);
                                $("<td/>").html(obj.start).appendTo(tr);
                                $("#tbody").append(tr);
                            })
                        }
                    });
                }
            });
        });
	};
	list();
    // ;$(".showPage").createPage({
    //     pageCount:6,//总页数
	// 	limit:2,
    //     currentTarget :1,//当前页
    //     back:function(p){
    //         console.log(p);
    //         console.log(p.limit);
    //     }
    // });
</script>
</div>
</body>
</html>